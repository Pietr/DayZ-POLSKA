
radiation_zone = {
--Малий рівень:

{-3152.6999511719,187.69999694824,2,16},
{-3244.1000976563,146.39999389648,10,13},
{-3234.8999023438,24.200000762939,10,7},
{-3262.8000488281,33.5,10,8},
{-3264.8000488281,17.89999961853,10,10},
{-3266.3000488281,7,10,10},
{-3269.5,-40,10,10},
{-3293.6000976563,-76.900001525879,10.89999961853,20},
{-3110.1999511719,46.799999237061,10.89999961853,20},
{-3163.1999511719,-331,13.10000038147,20},



--Середній рівень:

{-3149.1999511719,68.599998474121,10.89999961853,20},
{-3184.5,-319.5,10.800000190735,20},
{-3028.3000488281,-385.60000610352,10.800000190735,20},
{-2942.6000976563,-418.5,10.800000190735,10},
{-3162.1000976563,-452.79998779297,11.199999809265,20},
{-2992.3000488281,23.799999237061,10.5,20},
{-3286.6999511719,124,10.60000038147,20},

--Великий рівень:

{-3152.8999023438,228.5,2,10},
{-3204.3000488281,-410.20001220703,10.800000190735,20},
{-3994.8999023438,-263.39999389648,16.299999237061,100},
{-3872.8999023438,-263.5,16.299999237061,100},
{-3860.6999511719,-162,7.3000001907349,100},
{-3953.5,-59.599998474121,7.3000001907349,100},
{-3962.8000488281,25.10000038147,7.3000001907349,100},
{-3950.6000976563,116.30000305176,7.3000001907349,100},
{-3984,209.39999389648,7.3000001907349,100},
{-4559.7998046875,-581.20001220703,-1.1000000238419,150},
{-4989.5,-579.79998779297,10.199999809265,100},
{-5147.6000976563,-580.5,10.199999809265,100},
{-5365,-583.70001220703,10.199999809265,100},
{-5440.2001953125,-614.79998779297,10.199999809265,100},
{-5384.1000976563,-501.60000610352,10.199999809265,100},
{-5502.2001953125,-493.20001220703,10.199999809265,100},
{-5606.5,-521.70001220703,10.199999809265,150},
{-5661.7998046875,-487.5,10.199999809265,150},
{-5713.2001953125,-456,10.199999809265,150},
{-5771.7998046875,-473.10000610352,10,150},
{-5827.2998046875,-648.29998779297,10,150},
{-5843.2998046875,-733,10.199999809265,150},
{-5689.3999023438,-797.29998779297,10,150},
{-5512.6000976563,-865.5,10,150},
{-5404.1000976563,-970.70001220703,10,150},
{-5266.1000976563,-900.40002441406,10,150},
{-5077.1000976563,-945.70001220703,10,150},
{-4979.1000976563,-895.29998779297,10,30},
{-4964,-974.09997558594,10,150},
{-4934.7998046875,-976.59997558594,10,150},
{-4942.6000976563,-758.59997558594,10,150},
{-5150.3999023438,-448.60000610352,10,150},
{-5501.6000976563,-253.30000305176,10,150},
{-5554.6000976563,-525.90002441406,10,150},
{-6051.2001953125,-732.20001220703,10,150},
{-5968.2001953125,-546.40002441406,10,150},
{-5966.3999023438,-471,10,150},
{-5968.6000976563,-324.79998779297,10,150},
{-4959,-271.20001220703,10,150},
{-4962.7998046875,-192.60000610352,10,150},

--Смертельний рівень:
{-3942.5,-168,16.299999237061,100}, --[Реакто №4]
{-4080.3999023438,213.19999694824,6,150},
{-4084.1999511719,62.5,6,150},
{-4068.5,-106.90000152588,6,150},
{-4017.3999023438,-284.79998779297,14,100},
{-3763.6000976563,-179.5,6,150},
{-3771.5,-48.5,6,150},
{-3781.3999023438,91.099998474121,6,150},
{-3780.3000488281,332.20001220703,6,150},
{-3780.6000976563,519.59997558594,6,150},
{-4035.3000488281,481,6,150},
{-4057.8999023438,392.79998779297,6,150},
{-4004.8999023438,267.70001220703,6,150},
{-3651.1999511719,306.39999389648,6,150},
{-3411.1999511719,-181,11,60},
{-3018.1999511719,-59.900001525879,11,100},
{-3093.1999511719,506.89999389648,1,20},
{-3469.6999511719,530.70001220703,11,100},
{-3543,527.40002441406,11,100},
{-3622.1000976563,523.70001220703,11,100},
{-3604.8999023438,614.29998779297,11,100},
{-3543.5,620.40002441406,11,100},
{-3477.8000488281,607.20001220703,11,100},
{-4401.7001953125,633.59997558594,11,100},
{-4390.5,-28.10000038147,11,100},
{-4153.2998046875,-371.10000610352,11,150},
{-3909.5,-371.89999389648,12.39999961853,150},
{-2910,465.5,4,100},
{208,1907,14,100},
{113.69999694824,1908.4000244141,14,100},
{97.400001525879,2002.4000244141,14,100},
{-16.89999961853,2068.1000976563,14,100},
{-3159.8000488281,-449.39999389648,11,20},

}

--
local radmax = 300 -- Кількість радіації після якого буде кровотеча!
local radmid = 50 -- Кількість радіації після якого буде маленька кровотеча!
local radadd = 10 -- Скільки радіації буде добавлятись в 10сек.
local removebloodfive = 4 -- Скільки крові знамає при малій дозі radmid
local removeblood = 7 -- Скільки крові знамає при іеликій дозі radmax
local antiradiation = "Maska" -- Захист


------------------------------------------
--

-- СИСТЕМА 
local player = getLocalPlayer()

function checkradiation()
if not getElementData(player,"radiation") then
setElementData(player,"radiation",0)
end
local radiation = getElementData(player,"radiation")

for _, doz in ipairs(radiation_zone) do
x,y,z = doz[1],doz[2],doz[2] ---Центер маркера
radarea = createMarker (x,y,z,"cylinder",doz[4],255,0,0,0) -- 300 радиус маркера

    if isElementWithinMarker(player, radarea) then
	radiationadd()
	end
	if radiation >= radmid then
	if getElementData ( localPlayer, "clothHeadN") == antiradiation then
	setElementData(player,"blood",getElementData(player,"blood")-removebloodfive*0.8)
	return true
	end
	setElementData(player,"blood",getElementData(player,"blood")-removebloodfive)
	end
	if radiation >= radmax then
	if getElementData ( localPlayer, "clothHeadN") == antiradiation then
	setElementData(player,"blood",getElementData(player,"blood")-removebloodfive*0.6)
	return true
	end
	setElementData(player,"blood",getElementData(player,"blood")-removeblood)
	end
	end
end
setTimer(checkradiation,10000,0)

function radiationadd()
setElementData(player,"radiation",getElementData(player,"radiation")+radadd)
if getElementData(getLocalPlayer(),"Dozymetr") >= 1 then
radsound = playSound("radsound.mp3")
setSoundVolume(radsound, 0.1)
end	
end
